/**!
* BlogToc v1.6.2
* Copyright 2014 Cluster Amaryllis
* Licensed in (https://github.com/clusteramaryllis/blogtoc/blob/develop/LICENSE)
* 
* A javascript plugin to make table of contents for blogspot using Blogger Feed API.
*/
!function(a){"use strict";var b=function(){!function(){var b="1.6.2",c="//blogtoc2.googlecode.com/svn/trunk/"+b+"/",d="http://clusteramaryllisblog.blogspot.com/2013/10/blogspot-table-of-contents-blogtoc.html",e="A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z".split("|"),f="Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday".split("|"),g="January|February|March|April|May|June|July|August|September|October|November|December".split("|"),h="https://lh4.googleusercontent.com/-QhzzNTYkzbE/AAAAAAAAAAI/AAAAAAAAAAA/voMJT6RfB_o/s1600/photo.jpg",i="http://3.bp.blogspot.com/-trkoRRazZ7A/UdtEVufkxiI/AAAAAAAABxI/DOJ7jAUv1G4/s1600/blank.gif",j="http://3.bp.blogspot.com/-p7gZDNwTJbw/UdkqBnBb1bI/AAAAAAAAALI/hoCIpF74N80/s1600/image_not_available.jpg",k="http://s20.postimg.org/7oz0eeuyx/blank.gif",l=/.*?:\/\/|\/$/g,m=/s\d+\-?\w?/gi,n=/(^\s+|\s{2,}|\s+$)/g,o=/(<([^>]+)>)/gi,p=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,q=/^(index|thumbnail|author|label)$/i,r=/^(actualImage|authorThumbnail|authorUrl|badge|category|commentURL|fullSummary|publishDateFormat|titleURL|updateDateFormat)$/i,s={},t={},u="en-US",v="bootstrap",w=function(b,c){if(!b.BTLoaded){var w,x,y,A,F,G,J,L,M,N,Q,U,V,Y,Z,_,bb=b;return bb.BTAPP={run:function(b){var c=this,d={blogtocId:"",binding:{onAfterDataChange:null,onBeforeDataChange:null,onInit:null,onLiveDataChange:null,onLoaded:null},dataType:"JSONP",date:{day:f,month:g,render:function(a,b){return b.date.day[a.getDay()]+", "+b.date.month[a.getMonth()]+" "+a.getDate()+" "+a.getFullYear()}},display:{setup:10,template:[5,10,25,50,"All"]},extendClass:{},feed:{appendQuery:"",chunkRequest:1,limit:null,requestCount:500,type:"default"},label:{define:[],exception:!1,showLabel:!0,includeLabelAll:!0,setup:"All",allText:"All",cloudLabel:!1,showAlphabetLabel:!1,includeAlphabetLabelAll:!0,setupAlphabet:"All",alphabetAllText:"All",cloudAlphabetLabel:!1,symbolicAlphabetFilter:function(){return/^[0-9$-\/:-?{-~!"^_`\[\]]/i},alphabetMember:e},language:{setup:u,custom:{}},linkTarget:{author:"_self",thumbnail:"_self",title:"_self",comment:"_self"},newBadge:{setup:5,render:function(a){return'<span class="label">'+a+"</span>"}},notification:{enabled:!1,interval:6e4},number:{render:function(a){return a}},pagination:{adjacents:2,showNextPage:!0,showPrevPage:!0,showFirstPage:!0,showLastPage:!0,showNumber:!0},postLabel:{separator:"",render:function(a){return"<span>"+a+"</span>"}},progress:{render:function(a,b){var c;(c=a.getElementsByTagName("span")[0])?c.innerHTML=b:a.innerHTML="Loading <span>"+b+"</span> %"}},rightToLeft:!1,search:{markerRender:function(a){return"<b>"+a+"</b>"},textAsPlaceholder:!1},sorting:{key:"title",order:"ascending",disable:[]},summary:{wordLimit:200},table:{order:["index","thumbnail","title","publishDate","updateDate","author","comment"],initDataLoad:10,showHeader:!0,indexWidthPoint:2.5,authorWidthPoint:10.5,commentWidthPoint:11,labelWidthPoint:24,publishDateWidthPoint:12.5,summaryWidthPoint:25,thumbnailWidthPoint:7,titleWidthPoint:26,updateDateWidthPoint:12.5},theme:{setup:v},thumbnail:{blank:i,notFound:j,sample:k,size:72,authorSize:36,authorThumbnail:!0},url:"chrome.blogspot.com"};w=bb.BTOptions=W(d,b),y=bb.BTFeed={data:[],label:[],count:0},x=bb.BTConfig={cache:{},iotf:{},iterate:0,liveUpdate:!1,order:{},registeredEvent:{},searchRegex:null,searchState:!1},t[w.language.setup]||(t[w.language.setup]={option:{}}),s[w.theme.setup]||(s[w.theme.setup]={option:{}}),gb(w.language.setup,t,w.language.custom),hb(w.theme.setup,s,w.extendClass),A=bb.BTID,F=A.firstChild,G=H(F),J=H(G),L=J.firstChild,M=H(L),N=H(M),Q=H(N),Y=H(Q),B(A,w.extendClass.blogtoc_id),B(F,w.extendClass.blogtoc_notification),B(G,w.extendClass.blogtoc_loader),B(J,w.extendClass.blogtoc_content),B(L,w.extendClass.blogtoc_header),B(M,w.extendClass.blogtoc_filter),B(N,w.extendClass.blogtoc_table),B(Q,w.extendClass.blogtoc_footer),B(Y,w.extendClass.blogtoc_copyright),w.progress.render(G,0),w.rightToLeft?(A.setAttribute("dir","rtl"),B(A,"bt-rtl")):A.setAttribute("dir","ltr"),_="default"===w.feed.type?"content":"summary",x.cache.req=new Array,x.cache.thead={},x.nat=h.replace(m,"s"+w.thumbnail.authorSize+"-c"),x.iotf=mb(w.thumbnail.sample),x.mapper=w.table.order,x.mapperWidth=[],x.tbwrapper="display:block;width:"+w.thumbnail.size+"px;height:"+w.thumbnail.size+"px;",x.tbimg="width:"+w.thumbnail.size+"px;height:"+w.thumbnail.size+"px;",x.page=1,x.pageState=1,a["BTJSONCallback_"+A.id]=function(a){c.initFeed(a)};var n=w.url.replace(l,""),o=n+"_"+cb();n="http://"+n+"/feeds/posts/summary/?"+"max-results=0&"+"alt=json-in-script&"+"callback=BTJSONCallback_"+A.id+w.feed.appendQuery,x.cache.req[0]=o;var p=function(){setTimeout(function(){x.iotf.server?O(n,o,null,function(){alert(w.language.custom.errorMessage),I(A)}):p()},100)};p(),"function"==typeof w.binding.onInit&&w.binding.onInit()},initFeed:function(b){var c=this,d=b.feed;if("openSearch$totalResults"in d&&(y.count=d.openSearch$totalResults.$t),"category"in d)for(var e=w.label.define,f=e.length,g=w.label.exception,h=0,i=d.category.length;i>h;h++){var j=d.category[h].term;f&&(g&&K(j,e)||!g&&!K(j,e))||y.label.push(d.category[h].term)}y.label.sort(function(a,b){return a.toLowerCase()>b.toLowerCase()?1:-1}),w.label.includeLabelAll&&y.label.unshift(w.label.allText),Z=w.label.alphabetMember.slice(0),w.label.includeAlphabetLabelAll&&(Z.unshift("#"),Z.unshift(w.label.alphabetAllText)),x.display=X(w.display.template,w.display.setup,y.count),x.records=w.display.setup||w.display.template[0],a["BTLDJSONCallback_"+A.id]=function(a){c.loadFeed(a)};var k,m,n,o="jsonp"===w.dataType.toLowerCase();k=o?"json-in-script":"json",m=w.feed.requestCount>500?500:w.feed.requestCount,n=w.feed.limit||y.count;var p,q,r,s,t=0,u=0,v=Math.ceil(n/m),z=w.feed.appendQuery,B=w.feed.chunkRequest,C=w.url.replace(l,"");q="http://"+C+"/feeds/posts/"+w.feed.type+"/?"+"alt="+k+"&",B=B>v?v:B;var D=function(a,b,c){return(a+1)*b>c?c-a*b:b};o?(q+="callback=BTLDJSONCallback_"+A.id,s=function(a){u=a*m+1,r=C+"_"+cb(),x.cache.req[a+1]=r,p=D(a,m,n),O(q+"&max-results="+p+"&start-index="+u+z,r,function(){v>a+B&&s(a+B)})}):s=function(a){u=a*m+1,p=D(a,m,n),P(q+"&max-results="+p+"&start-index="+u+z,function(d){b=S(d.responseText),c.loadFeed(b),v>a+B&&s(a+B)})};for(var E=0;B>E;E++)s(t),t++},loadFeed:function(a){var b=this,c=a.feed,d=[],e=[],f={},g=y.data,h=w.feed.limit||y.count,i=w.thumbnail.size,j=w.thumbnail.authorSize,k=w.thumbnail.notFound,l=w.summary.wordLimit,q=w.date.render,r=x.iotf.server,s=w.progress.render,t=w.postLabel.render,u=w.postLabel.separator;if("entry"in c){var v=0,z=c.entry.length,A=function(){R(function(){var a=c.entry[v];f.title=a.title.$t.replace(n,"");var y=a.published.$t.substring(0,10).split("-"),B=a.published.$t.substring(11,19).split(":"),C=a.updated.$t.substring(0,10).split("-"),D=a.updated.$t.substring(11,19).split(":");f.publishDateFormat=$(y,B),f.updateDateFormat=$(C,D),f.publishDate=q(f.publishDateFormat,w),f.updateDate=q(f.updateDateFormat,w);var E=a[_].$t.replace(p,""),F=E.replace(o,"").replace(n,"");F.length>l&&(F=F.substring(0,l),F=F.substring(0,F.lastIndexOf(" "))+"...."),f.fullSummary=E,f.summary=F;var H;"media$thumbnail"in a?(f.thumbnail=a.media$thumbnail.url,f.actualImage=f.thumbnail.replace(m,"s0"),f.thumbnail=~f.thumbnail.indexOf("s72-c")?f.thumbnail.replace("/s72-c/","/s"+i+"-c/"):db(f.actualImage,i,r)):(H=/<img [^>]*src=["|\']([^"|\']+)/gi.exec(E))?(f.actualImage=H[1],f.thumbnail=db(f.actualImage,i,r)):(f.actualImage=k,f.thumbnail=m.test(f.actualImage)?f.actualImage.replace(m,"s"+i+"-c"):db(f.actualImage,i,r));for(var I=0;I<a.link.length;I++)"replies"===a.link[I].rel?f.commentURL=a.link[I].href:"alternate"===a.link[I].rel&&(f.titleURL=a.link[I].href);if(f.commentURL||(f.commentURL="#"),f.comment="thr$total"in a?+a.thr$total.$t:0,f.author=a.author[0].name.$t,f.authorUrl=a.author[0].uri?a.author[0].uri.$t:"#",f.authorThumbnail=a.author[0].gd$image.src.replace(m,"s"+j+"-c"),"category"in a)for(I=0;I<a.category.length;I++)d.push(a.category[I].term),e.push(t(a.category[I].term));f.category=d.slice(0),f.label=e.slice(0).join(u),g.push(f),f={},d.length=0,e.length=0,x.iterate++,v++;var J=Math.round(100*x.iterate/h);s(G,J),z>v&&A(),x.iterate>=h&&(x.cache.originData=jb(g,"publishDate").slice(0).reverse(),setTimeout(function(){G.style.display="none",b.buildUI()},500))},0)};A()}},checkFeed:function(a){var b=a.feed,c={};if("openSearch$totalResults"in b&&(c.count=b.openSearch$totalResults.$t),b.entry[0]){var d=b.entry[0],e=d.published.$t.substring(0,10).split("-"),f=d.published.$t.substring(11,19).split(":");c.publishDateFormat=$(e,f)}x.isUpdated=x.cache.originData[0]&&(c.count!==y.count||+c.publishDateFormat!==+x.cache.originData[0].publishDateFormat)},checkUpdate:function(){var b=this;a["BTCUJSONCallback_"+A.id]=function(a){b.checkFeed(a)};var c,d,e,f,g="jsonp"===w.dataType.toLowerCase(),h=w.url.replace(l,"");c=g?"json-in-script":"json",d="http://"+h+"/feeds/posts/"+w.feed.type+"/?"+"max-results=1&"+"alt="+c+"&",e=function(){if(x.isUpdated){var a='<a href="javascript:void(0)" onclick="BlogToc.reset(document.getElementById(\''+A.id+"').parentNode); return false;\">"+'<span class="icon-spin"></span> '+w.language.custom.updateMessage+"</a>";F.innerHTML=a}},g?(d+="callback=BTCUJSONCallback_"+A.id,f=h+"_"+cb(),O(d,f,function(){I(E(f)),e()})):P(d,function(a){json=S(a.responseText),b.checkFeed(json),e()})},buildUI:function(){var b,c=this,e=w.extendClass,f=(w.thumbnail.size,x.display),g=w.sorting.order,h=w.sorting.key,i=w.search.textAsPlaceholder,j="BlogToc.label(this, this.value, document.getElementById('"+A.id+"')); this.blur(); return false;",k="BlogToc.alphabet(this, this.value, document.getElementById('"+A.id+"')); this.blur(); return false;",l="BlogToc.display(this.value, document.getElementById('"+A.id+"')); this.blur(); return false;",m="BlogToc.search(this.value, document.getElementById('"+A.id+"')); return false;";J.style.display="block",c.makeLabel(y.label,"showLabel","cloudLabel","setup","blogtoc_label",e.blogtoc_label,j),c.makeLabel(Z,"showAlphabetLabel","cloudAlphabetLabel","setupAlphabet","blogtoc_alphabet",e.blogtoc_alphabet,k);var n,o,p,s,t,u,v,z=0,D=f.length;for(n=C("div",null,null,"blogtoc_display"),B(n,e.blogtoc_display),t=C("label"),o=C("select",{onchange:l}),u=C("span",null,w.language.custom.display);D>z;z++)s=C("option",{value:f[z].num},f[z].name),f[z].num===x.records&&(s.selected=!0),o.appendChild(s);t.appendChild(o),t.appendChild(u),n.appendChild(t),M.appendChild(n),n=C("div",null,null,"blogtoc_search"),B(n,e.blogtoc_search),t=C("label"),u=C("span",null,i?"":w.language.custom.search),p=C("input",{type:"text",onkeyup:m,"data-placeholder":w.language.custom.search},null,"blogtoc_query"),B(p,e.blogtoc_query),t.appendChild(u),t.appendChild(p),n.appendChild(t),M.appendChild(n);var F,G,H,L,O,P,R,S,T=x.mapper.length;for(c.calculate(),H=C("thead"),L=C("tr"),z=0;T>z;z++)F=x.mapper[z],b="BlogToc.sort('"+F+"', document.getElementById('"+A.id+"')); return false;",O=C("th",{width:x.mapperWidth[z]}),S=w.language.custom[F]?w.language.custom[F]:F,r.test(F)||(q.test(F)||K(F,w.sorting.disable)?P=document.createTextNode(S):(R=C("span",null,null,"icon-menu"),P=C("a",{href:"javascript:void(0)",onclick:b},S),P.appendChild(R),x.cache.thead[F]=R),x.order[F]=null,O.appendChild(P),L.appendChild(O));H.appendChild(L),G=N.firstChild,N.insertBefore(H,G),w.table.showHeader||I(H),U=C("div",null,null,"blogtoc_result"),B(U,e.blogtoc_result),Q.appendChild(U),V=C("div",null,null,"blogtoc_pagination"),B(V,e.blogtoc_pagination),Q.appendChild(V),v=C("button",{onclick:"window.location = '"+d+"';"},"Get this Widget",e["blogtoc_copyright button"]),Y.appendChild(v),c.addBadge(),x.cache.thead[h].className="ascending"===g?"icon-arrow-up-4":"icon-arrow-down-5",x.order[h]=g,c.doSorting(h,g),w.label.showLabel||w.label.showAlphabetLabel?(x.currentLabel=w.label.showLabel?K(w.label.setup,y.label)?w.label.setup:y.label[0]:null,x.currentAlphabet=w.label.showAlphabetLabel?K(w.label.setupAlphabet,Z)?w.label.setupAlphabet:Z[0]:null,w.label.showLabel?c.displayLabel(x.currentLabel,null,null,!0):c.displayAlphabet(x.currentAlphabet,null,null,!0)):c.compile(),i?"placeholder"in p?p.placeholder=w.language.custom.search:(p.value=w.language.custom.search,p.onfocus=function(){this.value===w.language.custom.search&&(this.value="")},p.onblur=function(){""===this.value&&(this.value=w.language.custom.search)}):B(p,"bt-no-placeholder"),bb.BTLoaded=!0,"function"==typeof w.binding.onLoaded&&w.binding.onLoaded(),a["BTJSONCallback_"+A.id]=null,a["BTLDJSONCallback_"+A.id]=null;for(var W,X=0,$=x.cache.req.length;$>X;X++)W=E(x.cache.req[X]),W&&I(W);w.notification.enabled&&(x.liveUpdate=setInterval(function(){c.checkUpdate()},w.notification.interval))},buildPagination:function(){var a,b,c,d,e=w.extendClass,f=e["blogtoc_pagination ul"],g=e["blogtoc_pagination current"],h=e["blogtoc_pagination disabled"],i=Math.ceil(y.data.length/x.records),j=x.page,k=j+1,l=j-1,m=j+6,n=j+46,o=j-6,p=j-46,q=w.pagination.adjacents,r=2*q,s=A.id,t="blogtoc_responsive_hide",u="blogtoc_first_page",v="blogtoc_last_page",z="blogtoc_prev_page",B="blogtoc_next_page",D=w.rightToLeft,E=w.number.render;if(i>1){if(b=C("ul",null,null,f),j>1?(w.pagination.showFirstPage&&(d=eb(1,w.language.custom.firstPage,"a",s,u),D?b.insertBefore(d,b.firstChild):b.appendChild(d)),w.pagination.showPrevPage&&(d=eb(l,w.language.custom.prevPage,"a",s,z),D?b.insertBefore(d,b.firstChild):b.appendChild(d))):w.pagination.showPrevPage&&(d=eb(null,w.language.custom.prevPage,"span",s,T(z,h)),D?b.insertBefore(d,b.firstChild):b.appendChild(d)),w.pagination.showNumber)if(7+r>i)for(a=1;i>=a;a++)d=a===j?eb(null,E(a),"span",s,g):eb(a,E(a),"a",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d);else if(i>5+r){if(p-r>1&&(a=p-r,d=eb(a,E(a),"a",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d)),o-r>1&&(a=o-r,d=eb(a,E(a),"a",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d)),2+r>j){for(a=1;4+r>a;a++)d=a===j?eb(null,E(a),"span",s,g):eb(a,E(a),"a",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d);d=eb(null,"...","span",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d)}else if(i-r>j&&j>1+r){for(d=eb(null,"...","span",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d),a=j-q;j+q>=a;a++)d=a===j?eb(null,E(a),"span",s,g):eb(a,E(a),"a",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d);d=eb(null,"...","span",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d)}else for(d=eb(null,"...","span",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d),a=i-(2+r);i>=a;a++)d=a===j?eb(null,E(a),"span",s,g):eb(a,E(a),"a",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d);i>m+r&&(a=m+r,d=eb(a,E(a),"a",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d)),i>n+r&&(a=n+r,d=eb(a,E(a),"a",s,t),D?b.insertBefore(d,b.firstChild):b.appendChild(d))}i>j?(w.pagination.showNextPage&&(d=eb(k,w.language.custom.nextPage,"a",s,B),D?b.insertBefore(d,b.firstChild):b.appendChild(d)),w.pagination.showLastPage&&(d=eb(i,w.language.custom.lastPage,"a",s,v),D?b.insertBefore(d,b.firstChild):b.appendChild(d))):w.pagination.showNextPage&&(d=eb(null,w.language.custom.nextPage,"span",s,T(B,h)),D?b.insertBefore(d,b.firstChild):b.appendChild(d))}(c=V.getElementsByTagName("ul")[0])?b?V.replaceChild(b,c):V.removeChild(c):b?V.appendChild(b):null},makeLabel:function(a,b,c,d,e,f,g){var h,i,j,k=0,l=a.length,m=!1;if(w.label[b]){if(w.label[c])for(i=C("div",null,null,e),B(i,f);l>k;k++)h=a[k]===w.language.custom.labelAll?"All":a[k],j=C("button",{type:"button",value:h,onclick:g},a[k]),B(j,w.extendClass.blogtoc_button),h===w.label[d]&&(j.disabled=!0,m=!0),i.appendChild(j);else{for(i=C("select",{onchange:g},null,e),B(i,f);l>k;k++)h=a[k]===w.language.custom.labelAll?"All":a[k],j=C("option",{value:h},a[k]),h===w.label[d]&&(j.selected=!0,m=!0),i.appendChild(j);m||(w.label[d]=i.firstChild.value,i.firstChild.selected=!0)}L.appendChild(i)}},buildResult:function(){var a=y.data.length,b=w.number.render,c=x.page*x.records,d={begin:a?(x.page-1)*x.records+1:0,end:a>c?c:a,total:a},e=w.language.custom.result.replace(/\{(.*?)\}/gi,function(a,c){return"<b>"+b(d[c])+"</b>"});U.innerHTML=e},displayLabel:function(a,b,c,d){var e=this;if(d&&(y.data=x.cache.original.slice(0)),null!=x.currentLabel){if(d&&null!=x.currentAlphabet&&e.displayAlphabet(x.currentAlphabet,null,!0),""===a&&(a=b.getAttribute("value")),x.currentLabel=a,a!==w.label.allText){for(var f=[],g=0,h=y.data.length;h>g;g++)K(a,y.data[g].category)&&f.push(y.data[g]);y.data=f.slice(0)}if(x.cache.tempData=y.data.slice(0),!c){if(b&&"button"===b.tagName.toLowerCase()){for(var i=b.parentNode.childNodes,j=i.length;j--;)i[j].disabled=!1;b.disabled=!0}x.page=1,x.pageState=1;var k=M.getElementsByTagName("input")[0].value;k&&k!==w.language.custom.search?e.query(k):(e.compile(),x.cache.feedLeft=w.table.initDataLoad)}}},displayAlphabet:function(a,b,c,d){var e=this;if(d&&(y.data=x.cache.original.slice(0)),null!=x.currentAlphabet){if(d&&null!=x.currentLabel&&e.displayLabel(x.currentLabel,null,!0),""===a&&(a=b.getAttribute("value")),x.currentAlphabet=a,a!==w.label.alphabetAllText){var f,g=[];f="#"===a?w.label.symbolicAlphabetFilter():new RegExp("^"+a,"i");for(var h=0,i=y.data.length;i>h;h++)~y.data[h].title.search(f)&&g.push(y.data[h]);y.data=g.slice(0)}if(x.cache.tempData=y.data.slice(0),!c){if(b&&"button"===b.tagName.toLowerCase()){for(var j=b.parentNode.childNodes,k=j.length;k--;)j[k].disabled=!1;b.disabled=!0}x.page=1,x.pageState=1;var l=M.getElementsByTagName("input")[0].value;l&&l!==w.language.custom.search?e.query(l):(e.compile(),x.cache.feedLeft=w.table.initDataLoad)}}},sorting:function(a){var b=this,c=x.order,d=x.cache.thead;if(y.data.length){for(var e in d)a!==e?(d[e].className="icon-menu",c[e]="descending"):(d[e].className="ascending"===c[e]?"icon-arrow-down-5":"icon-arrow-up-4",c[e]="ascending"===c[e]?"descending":"ascending");b.doSorting(a,c[a]),b.compile()}},doSorting:function(a,b){var c=y.data,d=x.cache;d[a]=d[a]||{},y.data="ascending"===b?jb(c,a).slice(0):jb(c,a).slice(0).reverse(),d.original?(d.original="ascending"===b?jb(d.original,a).slice(0):jb(d.original,a).slice(0).reverse(),d.tempData=d.original):(d.original=y.data.slice(0),d.tempData=[])},changeDisplay:function(a){var b=this;x.records=+a,y.data[(x.page-1)*x.records]||(x.page=1),b.compile()},query:function(a){var b=this;if(a=a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),y.data=x.cache.tempData?x.cache.tempData.slice(0):x.cache.original.slice(0),a){x.searchRegex=new RegExp(a,"igm"),x.searchState=!0,x.page=1;for(var c=[],d=0,e=y.data.length;e>d;d++)~y.data[d].title.search(x.searchRegex)&&c.push(y.data[d]);y.data=c.slice(0)}else{var f=Math.ceil(y.data.length/x.records);x.searchRegex=null,x.page=x.pageState<=f?x.pageState:1}x.searchState&&b.compile()},changePage:function(b){var c=this;x.page=+b,x.pageState=x.page,a.scroll(A.offsetLeft,A.offsetTop),c.compile()},addBadge:function(){var a=this;a.doSorting("publishDate","descending");for(var b=y.data,c=0,d=b.length,e=w.newBadge.setup,f=w.newBadge.render(w.language.custom.newLabel);d>c;c++)e?(b[c].badge='<span class="blogtoc_badge">'+f+"</span>",e--):b[c].badge='<span class="blogtoc_badge" style="display:none;"></span>'},calculate:function(){for(var a,b=0,c=x.mapper.length,d=x.mapper,e=w.table,f=0;c>b;b++)f+=e[d[b]+"WidthPoint"];for(b=0;c>b;b++)a=Math.round(100*(e[d[b]+"WidthPoint"]/f)),x.mapperWidth.push(a+"%")},compile:function(){var b,c,d=this;"function"==typeof w.binding.onBeforeDataChange&&w.binding.onBeforeDataChange(),x.cache.img=new Array,x.cache.aimg=new Array,x.cache.feedLeft=0,x.cache.dataStart=null,x.cache.dontScrollFirstTime=!0,x.searchRegex||(x.searchState=!1),b=C("tbody");var e=function(a,b){if(b){var c,d,e,f,g,h=a.parentNode,i=h.BTConfig,j=h.BTOptions,k=h.BTFeed,l=(i.page-1)*i.records+i.cache.feedLeft,m=l+j.table.initDataLoad,n=i.page*i.records,o=k.data.length,p=(j.thumbnail.authorSize,l),q=l,r=i.mapper.length;if(p!==x.cache.dataStart)for(x.cache.dataStart=p,o||b.getElementsByTagName("tr")[0]||(f=C("tr"),g=C("td",{colSpan:r},j.language.custom.noRecords,"blogtoc_norecords"),f.appendChild(g),b.appendChild(f)),e=n>=m&&o>=m?m:o>=n?n:o;e>p;p++){d=k.data[p],i.cache.feedLeft++,q++,f=C("tr");for(var s=0;r>s;s++)c=i.mapper[s],g=C("td",{width:i.mapperWidth[s]}),g.setAttribute("data-title",c),g.appendChild(fb(c,q,d,j,i,g)),f.appendChild(g);b.appendChild(f),p===e-1&&"function"==typeof j.binding.onLiveDataChange&&j.binding.onLiveDataChange()}}};e(A,b),d.buildResult(),d.buildPagination();var f=function(b){var c=b.clientHeight,d=a.innerHeight||document.documentElement.clientHeight,f=a.pageYOffset||document.documentElement.scrollTop,g=b.getElementsByTagName("tbody")[0];100>c-d-f&&(x.cache.dontScrollFirstTime?x.cache.dontScrollFirstTime=!1:e(b,g))},g=function(){ib(bb.BTConfig.cache.img,bb.BTOptions.thumbnail.notFound),ib(bb.BTConfig.cache.aimg,bb.BTConfig.nat),f(bb.BTID)},h=function(a){setTimeout(function(){var b=a.getElementsByTagName("table")[0],c=b.getElementsByTagName("tbody")[0];D(b)&&(e(a,c),h(a))},10)};"function"==typeof w.binding.onAfterDataChange&&setTimeout(function(){w.binding.onAfterDataChange()},1),z(x.registeredEvent,a,"scroll",g),z(x.registeredEvent,a,"resize",g),(c=N.getElementsByTagName("tbody")[0])?N.replaceChild(b,c):N.appendChild(b),h(A),g()}},ab(bb,c),this}};Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var x=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},y=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null},z=function(a,b,c,d){a[b]=a[b]||{},a[b][c]||(a[b][c]=d,x(b,c,d))},A=function(a,b,c){a[b]&&a[b][c]?(y(b,c,a[b][c]),a[b][c]=null):y(b,c,null)},B=function(a,b){if(b){var c,d,e=0;if(!b&&"string"!=typeof b)return;if(c=b.split(/\s+/),1===a.nodeType)if(a.className||1!==c.length){for(d=" "+a.className+" ";e<c.length;e++)-1===d.indexOf(" "+c[e]+" ")&&(d+=c[e]+" ");a.className=d.trim()}else a.className=b}},C=function(a,b,c,d){var e=document.createElement(a);if("object"==typeof b)for(var f in b)"style"==f?e.style.cssText=b[f]:/^on/i.test(f)?e[f]=new Function(b[f]):e.setAttribute?e.setAttribute(f,b[f]):e[f]=b[f];return c&&(e.innerHTML=c),d&&(e.className=d),e},D=function(b){var c=b.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom<=(a.innerHeight||document.documentElement.clientHeight)&&c.right<=(a.innerWidth||document.documentElement.clientWidth)},E=function(a){return document.getElementById(a)},F=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName},G=function(a,b){return b=Object.prototype.toString.call(a),"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(b)&&"number"==typeof a.length&&"undefined"!=typeof a.item&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},H=function(a,b){for(b=a.nextSibling;b&&1!==b.nodeType;)b=b.nextSibling;return b},I=function(a){a.parentNode.removeChild(a)},J=function(a,b){return b=C("div"),b.innerHTML=a,b.firstChild},K=function(a,b){return!!~b.indexOf(a)},L=function(a){return"[object Array]"===Object.prototype.toString.call(a)},M=function(a){for(var b,c,d=arguments,e=d.length;e>1&&a.length;)for(b=d[--e];-1!==(c=a.indexOf(b));)a.splice(c,1);return a},N=function(a,b){if(document.createStyleSheet)document.createStyleSheet(bb(a),0);else{var c=document.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=bb(a);var d=document.getElementsByTagName("head")[0];b?d.insertBefore(c,d.childNodes[d.childNodes.length-1]):setTimeout(function(){d.appendChild(c)},100)}},O=function(a,b,c,d,e){var f=document.createElement("script");f.type="text/javascript",f.src=bb(a),b&&(f.id=b),e||(f.async=!0),c&&(f.onload=function(){f.onloadDone||(f.onloadDone=!0,c(),f.onload=null)},f.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||f.onloadDone||(f.onloadDone=!0,c(),f.onreadystatechange=null)}),d&&(f.onerror=d),document.getElementsByTagName("head")[0].appendChild(f)},P=function(a,b,c){var d=Q();if(d){var e=c?"POST":"GET";d.open(e,bb(a),!0);try{d.setRequestHeader("User-Agent","XMLHTTP/1.0")}catch(f){}c&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){4==d.readyState&&(200==d.status||304==d.status)&&"function"==typeof b&&b(d)},4!=d.readyState&&d.send(c)}},Q=function(){for(var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=!1,c=0;c<a.length;c++){try{b=a[c](),Q=function(){return a[c]()}}catch(d){continue}break}return b},R=function(b){for(var c=[{name:"setImmediate",fn:function(b){return a.setImmediate(b)}},{name:"msSetImmediate",fn:function(b){return a.msSetImmediate(b)}},{name:"MozSetImmediate",fn:function(b){return a.MozSetImmediate(b)}},{name:"WebkitSetImmediate",fn:function(b){return a.WebkitSetImmediate(b)}},{name:"OSetImmediate",fn:function(b){return a.OSetImmediate(b)}},{name:"setTimeout",fn:function(b){return a.setTimeout(b,0)}}],d=0;d<c.length;d++)if(a[c[d].name])return R=function(a){return c[d].fn(a)},c[d].fn(b)},S=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(null===b)return!1;var c=/^[\],:{}\s]*$/,d=/(?:^|:|,)(?:\s*\[)+/g,e=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,f=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;if("string"==typeof b&&(b=b.trim(),b&&c.test(b.replace(e,"@").replace(f,"]").replace(d,""))))return new Function("return "+b)();throw new SyntaxError("JSON.parse")},T=function(a,b){return a?b?a+" "+b:a:b?b:""},U=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]="object"==typeof b[c]?U(a[c],b[c]):T(b[c],a[c]));return a},V=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"==typeof b[c]?a[c]=V(a[c],b[c]):"boolean"==typeof a[c]||"number"==typeof a[c]||a[c]||(a[c]=b[c]));return a},W=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=L(b[c])?b[c].slice(0):"object"==typeof b[c]?W(a[c],b[c]):b[c]);return a},X=function(a,b,c){K(b,a)||a.push(b);for(var d=0,e=a.length,f=[];e>d;d++)Z(a[d])?f.push({num:a[d],name:a[d]}):f.push({num:c,name:a[d]});return f=f.sort(function(a,b){return Z(a.name)?a.num-b.num:1})},Y=function(a){for(var b in a)return!1;return!0},Z=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},$=function(a,b){return new Date(parseInt(a[0],10),parseInt(a[1]-1,10),parseInt(a[2],10),parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10))},_=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},ab=function(a,b){a.BTID.style.display="block",a.BTAPP.run(b)},bb=function(a){var b=new RegExp("^((ftp|https?)?:?\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return b.test(a)?a:(0===a.indexOf("/")&&(a=a.substring(1)),c+a)},cb=function(){return(new Date).getTime()+_(1,1e3)},db=function(a,b,c){var d=parseInt(1.5*b,10),e={mobify:"http://ir0.mobify.com/jpg100/"+d+"/"+d+"/"+a,boxresizer:"http://proxy.boxresizer.com/convert?resize="+d+"x"+d+"&"+"source="+a,sencha:"http://src.sencha.io/"+d+"/"+d+"/"+a,google:"https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?resize_w="+d+"&resize_h="+d+"&"+"url="+a+"&"+"container=focus"};return e[c]},eb=function(a,b,c,d,e){var f={a:{href:"javascript:void(0)",onclick:"BlogToc.page("+a+", document.getElementById('"+d+"')); return false;"},span:null},g=C("li",null,null,e),h=C(c,f[c],b);return g.appendChild(h),g},fb=function(a,b,c,d,e,f,g){return g={author:function(){var a=C("span",null),b=C("a",{href:c.authorUrl,target:d.linkTarget.author},c.author),f=C("div",null,null,"blogtoc_authorthumbnail");if(d.thumbnail.authorThumbnail){var g=d.thumbnail.authorSize,h=C("img",{src:d.thumbnail.blank,style:"width:"+g+"px;height:"+g+"px;","data-src":c.authorThumbnail,"data-loaded":"no"},null,"bt-thumb");f.appendChild(h),e.cache.aimg.push(h)}return a.appendChild(b),f.appendChild(a),f},comment:function(){var a=d.number.render,b=d.rightToLeft?a(c.comment).toString()+'<span class="icon icon-comment-2">&nbsp;</span>':'<span class="icon icon-comment-2">&nbsp;</span>'+a(c.comment).toString();return C("a",{href:c.commentURL,target:d.linkTarget.comment},b)},index:function(){return b=d.number.render(b),document.createTextNode(b)},label:function(){var a=C("div",null,null,"blogtoc_post_label");return a.innerHTML=c.label,a},thumbnail:function(){var a=C("img",{src:d.thumbnail.blank,style:e.tbimg,"data-src":c.thumbnail,"data-loaded":"no"},null,"bt-thumb"),b=C("a",{href:c.actualImage,style:e.tbwrapper,target:d.linkTarget.thumbnail},null,"blogtoc_thumbnail");return b.appendChild(a),e.cache.img.push(a),b},title:function(){var a,b;return a=e.searchRegex?c.title.replace(e.searchRegex,function(a){return d.search.markerRender(a)}):c.title,b=C("a",{href:c.titleURL,title:c.summary,target:d.linkTarget.title},a,"blogtoc_post"),f.appendChild(b),J(c.badge)},def:function(){return document.createTextNode(c[a])}},a in g&&g[a]()||g.def()},gb=function(a,b,c){V(c,b[a].options)},hb=function(a,b,c){if(b&&b[a]){var d=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b["blogtoc_"+c]=a[c]);return b};U(c,d(b[a].options)),b[a].uri&&N(b[a].uri,!0)}},ib=function(a,b){if(a.length){for(var c=0,d=a.length;d>c&&("yes"===a[c].getAttribute("data-loaded")||!D(a[c]));c++);if(a[c]){var e=function(){a[c]&&(a[c].removeAttribute("width"),a[c].removeAttribute("height"),a[c].onload=function(){this.setAttribute("data-loaded","yes"),M(a,this),d>c&&D(this)&&e()},a[c].onerror=function(){this.setAttribute("data-loaded","yes"),this.src=b,M(a,this),d>c&&D(this)&&e()},a[c].src=a[c].getAttribute("data-src"))};e()}}},jb=function(a,b,c){return a.length?(c="updateDate"===b||"publishDate"===b?function(a,c){return a[b+"Format"]-c[b+"Format"]}:"string"==typeof a[0][b]?function(a,c){return a[b].toLowerCase()>c[b].toLowerCase()?1:-1}:function(a,c){return a[b]-c[b]},a.sort(c)):a},kb=function(a,b){var c=!b||Y(b)?"blogtoc_"+cb():b,d=['<div id="'+c+'" style="zoom: 1; display: none;">','<div class="blogtoc_notification"></div>','<div class="blogtoc_loader"></div>','<div class="blogtoc_content" style="display: none;">','<div class="blogtoc_header"></div>','<div class="blogtoc_filter"></div>','<table class="blogtoc_table"></table>','<div class="blogtoc_footer"></div>','<div class="blogtoc_copyright"></div>',"</div>","</div>"].join("");return a?a.innerHTML=d:document.write(d),E(c)},lb=function(a){var b=a.BTID,c=b.firstChild,d=H(c),e=H(d),f=e.firstChild,g=H(f),h=H(g),i=H(h),j=H(i);c.innerHTML="",d.innerHTML="",f.innerHTML="",g.innerHTML="",h.innerHTML="",i.innerHTML="",j.innerHTML="",b.className="",e.className="blogtoc_content",c.className="blogtoc_notification",d.className="blogtoc_loader",f.className="blogtoc_header",g.className="blogtoc_filter",h.className="blogtoc_table",i.className="blogtoc_footer",j.className="blogtoc_copyright",b.style.display="block",d.style.display="block",e.style.display="none"},mb=function(a){var b,c={},d=0,e=new Image,f=[["mobify","http://ir0.mobify.com/jpg1/1/1/"+a],["boxresizer","http://proxy.boxresizer.com/convert?resize=1x1&source="+a],["google","https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?url="+a+"&container=focus&resize_w=1&resize_h=1"],["sencha","http://src.sencha.io/1/1/"+a]];b=f.length;var g=function(){e.src=f[d][1],e.onload=function(){c.server=f[d][0]},e.onerror=function(){d++,g()}};return g(),c},nb=function(a,b){if(a||(a={blogtocId:null}),G(b)){a.blogtocId=null;for(var c=0,d=b.length;d>c;c++)this.blogtocBuilder(a,b[c])
}else if(F(b))b.BTID=kb(b,a.blogtocId),w(b,a);else{var e=kb(null,a.blogtocId);b=e.parentNode,b.BTID=e,w(b,a)}},ob=function(a){this.element=a};ob.prototype.build=function(a){return nb(a,this.element),this};var pb=function(a){return new ob(a)};pb.build=function(a,b){return nb(a,b),this},pb.reset=function(b,c,d){return b.BTID?b.BTLoaded?(b.BTConfig&&(A(b.BTConfig.registeredEvent,a,"scroll"),A(b.BTConfig.registeredEvent,a,"resize")),c?d||(d={}):d=b.BTOptions,b.BTConfig.liveUpdate&&clearInterval(b.BTConfig.liveUpdate),lb(b),b.BTLoaded=!1,ab(b,d),this):(setTimeout(function(){pb.reset(b,c,d)},1),this):this},pb.display=function(a,b){return b.parentNode.BTAPP&&b.parentNode.BTAPP.changeDisplay(a),this},pb.label=function(a,b,c){return c.parentNode.BTAPP&&c.parentNode.BTAPP.displayLabel(b,a,null,!0),this},pb.alphabet=function(a,b,c){return c.parentNode.BTAPP&&c.parentNode.BTAPP.displayAlphabet(b,a,null,!0),this},pb.page=function(a,b){return b.parentNode.BTAPP&&b.parentNode.BTAPP.changePage(a),this},pb.search=function(a,b){return b.parentNode.BTAPP&&b.parentNode.BTAPP.query(a),this},pb.sort=function(a,b){return b.parentNode.BTAPP&&b.parentNode.BTAPP.sorting(a),this},pb.language=function(a,b){return t[a]={},t[a].options=b,this},pb.theme=function(a,b,c){return s[a]={},s[a].uri=b,s[a].options=c,this},pb.addCSS=function(a,b){return N(a,b),this},pb.addJS=function(a,b,c,d){return O(a,b,c,d),this},pb.baseURL=function(a){return c=a,this},a.BlogToc=pb}()};"undefined"!=typeof a&&(b(),BlogToc.addCSS("//cdn.jsdelivr.net/bootmetro/1.0.0a1/css/bootmetro-icons.min.css"))}(window),function(a){var b=function(a){!function(){a.language("en-US",{labelAll:"All",newLabel:"New",index:"#",thumbnail:"Thumb",title:"Titles",author:"Authors",comment:"Comments",publishDate:"Published",updateDate:"Updated",summary:"Summaries",display:" records per page",search:"Search :",noRecords:"No matching records found",result:"Showing {begin} to {end} out of {total}",firstPage:"&laquo; First",lastPage:"Last &raquo;",prevPage:"&lsaquo; Prev",nextPage:"Next &rsaquo;",updateMessage:"Updates were found. Reload.",errorMessage:"This error message is part of BlogToc application & occurred because one of following reasons :\n\n • The URL you provide is not valid.\n • The URL you provide is not a blogspot service.\n • The blog is a private blog.\n • The blog has been deleted.\n • There is a trouble in your internet connection."})}()};"undefined"!=typeof a&&a.BlogToc&&b(a.BlogToc)}(window),function(a){var b=function(a){!function(){a.theme("bootstrap","css/bootstrap/bt_bootstrap.css",{id:"bootstrap",button:"btn btn-default",filter:"clearfix",display:"bt-form-inline",search:"bt-form-inline",query:"form-control",table:"table",footer:"clearfix","pagination ul":"pagination","pagination current":"active","pagination disabled":"disabled","copyright button":"btn btn-default btn-xs"})}()};"undefined"!=typeof a&&a.BlogToc&&b(a.BlogToc)}(window),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-43476052-1","auto"),ga("send","pageview");